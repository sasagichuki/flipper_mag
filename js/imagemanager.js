window.ImageManager={portrait:{queue:[],request:null,image:null,processing:!1,automation:null,initialize:function(a){if("undefined"!=typeof a){this.queue=[];this.processing=!1;null!=this.automation&&window.clearInterval(this.automation);var b=this;this.automation=window.setInterval(function(){b.grabImage()},1E3)}},push:function(a){if(null!=a){for(var b=!1,c=0;c<this.queue.length;c++)-1!=a.source.indexOf(this.queue[c].source)&&(this.queue[c].priority+=a.priority,b=!0);b||this.queue.push(a)}},deleteImageFromQueue:function(a){if(null!=
a&&""!=a)for(var b=0;b<this.queue.length;b++)-1!=a.indexOf(this.queue[b].source)&&this.queue.splice(b,1)},getImageFromQueue:function(a){if(null!=a&&""!=a){for(var b=this.queue.length-1;0<=b;b--)if(-1!=a.indexOf(this.queue[b].source))return this.queue[b];return null}},grabHighest:function(){var a=1;for(i in this.queue)this.queue[i].priority>a&&(a=this.queue[i].priority);for(var b=this.queue.length-1;0<=b;b--)if(this.queue[b].priority==a)return this.queue[b].source},grabImage:function(){if(0!=this.queue.length&&
!this.processing){this.processing=!0;this.image=new Image;this.image.src=this.grabHighest();this.image.onload=this.loadImageFinish;this.image.onerror=this.loadImageRetry;this.request=new XMLHttpRequest;this.request.open("GET",this.image.src,!0);this.request.responseType="arraybuffer";var a=this.image.src;this.request.onprogress=function(b){var c=window.ImageManager.portrait.getImageFromQueue(a);null==c&&(c=window.ImageManager.portrait.getImageFromQueue(a.replace(/\\/g,"\\\\")));null==c&&(c=window.ImageManager.portrait.getImageFromQueue(decodeURI(a)));
null!=c&&c.shadowy(b.lengthComputable?Math.ceil(b.loaded/b.total*100):0)};this.request.send()}},loadImageFinish:function(){var a=window.ImageManager.portrait.getImageFromQueue(this.src);null==a&&(a=window.ImageManager.portrait.getImageFromQueue(this.src.replace(/\\/g,"\\\\")));null==a&&(a=window.ImageManager.portrait.getImageFromQueue(decodeURI(this.src)));null!=a&&(a.callback(this),a.shadowy(100),window.ImageManager.portrait.deleteImageFromQueue(a.source),window.ImageManager.portrait.image=null,
window.ImageManager.portrait.processing=!1)},loadImageRetry:function(){if(!window.Install.is_server_secured){var a=window.ImageManager.portrait.getImageFromQueue(this.src);null==a&&(a=window.ImageManager.portrait.getImageFromQueue(this.src.replace(/\\/g,"\\\\")));null==a&&(a=window.ImageManager.portrait.getImageFromQueue(decodeURI(this.src)));null!=a&&(window.ImageManager.portrait.image=null,window.ImageManager.portrait.processing=!1,0<a.attempt?(a.attempt--,window.ImageManager.portrait.push(a)):
window.ImageManager.portrait.deleteImageFromQueue(a.source))}}},minimize:null,quotation:null,leatherette:{queue:[],image:null,processing:!1,automation:null,initialize:function(){this.queue=[];this.processing=!1;null!=this.automation&&window.clearInterval(this.automation);var a=this;this.automation=window.setInterval(function(){a.grabImage()},300)},push:function(a){null!=a&&(null!=this.getImageFromQueue(a.source)&&this.deleteImageFromQueue(a.source),this.queue.push(a))},deleteImageFromQueue:function(a){if(null!=
a&&""!=a)for(var b=0;b<this.queue.length;b++)-1!=a.indexOf(this.queue[b].source)&&this.queue.splice(b,1)},getImageFromQueue:function(a){if(null!=a&&""!=a){for(var b=0;b<this.queue.length;b++)if(-1!=a.indexOf(this.queue[b].source))return this.queue[b];return null}},grabImage:function(){0==this.queue.length||this.processing||(this.processing=!0,this.image=new Image,this.image.src=this.queue[0].source,this.image.onload=this.loadImageFinish,this.image.onerror=this.loadImageRetry)},loadImageFinish:function(){var a=
window.ImageManager.leatherette.getImageFromQueue(this.src);null==a&&(a=window.ImageManager.leatherette.getImageFromQueue(this.src.replace(/\\/g,"\\\\")));null==a&&(a=window.ImageManager.leatherette.getImageFromQueue(decodeURI(this.src)));null!=a&&(a.callback(this),window.ImageManager.leatherette.deleteImageFromQueue(a.source),window.ImageManager.leatherette.image=null,window.ImageManager.leatherette.processing=!1)},loadImageRetry:function(){if(!window.Install.is_server_secured){var a=window.ImageManager.leatherette.getImageFromQueue(this.src);
null==a&&(a=window.ImageManager.leatherette.getImageFromQueue(this.src.replace(/\\/g,"\\\\")));null==a&&(a=window.ImageManager.leatherette.getImageFromQueue(decodeURI(this.src)));null!=a&&(window.ImageManager.leatherette.image=null,window.ImageManager.leatherette.processing=!1,0<a.attempt?(a.attempt--,window.ImageManager.leatherette.push(a)):window.ImageManager.leatherette.deleteImageFromQueue(a.source))}}},shelve:{queue:[],image:null,processing:!1,automation:null,remaining:0,initialize:function(a){if("undefined"!=
typeof a){this.queue=[];this.processing=!1;null!=this.automation&&window.clearInterval(this.automation);var b=this;this.automation=window.setInterval(function(){b.grabImage()},300);this.remaining=a}},push:function(a){null!=a&&(null!=this.getImageFromQueue(a.source)&&this.deleteImageFromQueue(a.source),this.queue.push(a))},deleteImageFromQueue:function(a){if(null!=a&&""!=a)for(var b=0;b<this.queue.length;b++)-1!=a.indexOf(this.queue[b].source)&&this.queue.splice(b,1)},getImageFromQueue:function(a){if(null!=
a&&""!=a){for(var b=0;b<this.queue.length;b++)if(-1!=a.indexOf(this.queue[b].source))return this.queue[b];return null}},grabImage:function(){0==this.queue.length||this.processing||(this.processing=!0,this.image=new Image,this.image.src=this.queue[0].source,this.image.onload=this.loadImageFinish,this.image.onerror=this.loadImageRetry)},loadImageFinish:function(){var a=window.ImageManager.shelve.getImageFromQueue(this.src);null==a&&(a=window.ImageManager.shelve.getImageFromQueue(this.src.replace(/\\/g,
"\\\\")));null==a&&(a=window.ImageManager.shelve.getImageFromQueue(decodeURI(this.src)));null!=a&&(a.callback(this),window.ImageManager.shelve.deleteImageFromQueue(a.source),window.ImageManager.shelve.image=null,window.ImageManager.shelve.processing=!1,window.ImageManager.shelve.remaining--,0==window.ImageManager.shelve.remaining&&window.clearInterval(window.ImageManager.shelve.automation))},loadImageRetry:function(){if(!window.Install.is_server_secured){var a=window.ImageManager.shelve.getImageFromQueue(this.src);
null==a&&(a=window.ImageManager.shelve.getImageFromQueue(this.src.replace(/\\/g,"\\\\")));null==a&&(a=window.ImageManager.shelve.getImageFromQueue(decodeURI(this.src)));null!=a&&(window.ImageManager.shelve.image=null,window.ImageManager.shelve.processing=!1,0<a.attempt?(a.attempt--,window.ImageManager.shelve.push(a)):(window.ImageManager.shelve.deleteImageFromQueue(a.source),window.ImageManager.shelve.remaining--),0==window.ImageManager.shelve.remaining&&window.clearInterval(window.ImageManager.shelve.automation))}}}};